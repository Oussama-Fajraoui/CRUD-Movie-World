{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oussama\\\\OneDrive\\\\Bureau\\\\RBK\\\\IMERSIVE\\\\Movie-World\\\\client\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport Movies from './components/movie';\nimport Add from './components/Add';\nimport Search from './components/Search';\nimport axios from 'axios';\nimport OneMovie from './components/OneMovie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movie: [],\n      oneMovie: {},\n      view: 'allMovies',\n      success: ''\n    };\n    this.renderView = this.renderView.bind(this);\n    this.handleview = this.handleview.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.selectOne = this.selectOne.bind(this);\n    this.deleteOne = this.deleteOne.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:5000/api\").then(response => response.json()).then(data => {\n      this.setState({\n        movie: data\n      });\n    });\n  }\n\n  selectOne(index) {\n    console.log(\"clicked\");\n    this.handleview(\"oneMovie\");\n    this.setState({\n      oneMovie: this.state.movie[index]\n    });\n  }\n\n  deleteOne(index) {\n    axios.post(\"http://localhost:5000/api/d\", this.state.movie[index]);\n  }\n\n  handleSearch(term) {\n    axios.post('http://localhost:5000/api/search', {\n      name: term\n    }).then(data => {\n      console.log(data);\n      this.setState({\n        movie: data\n      });\n    });\n  }\n\n  handleSubmit(input) {\n    input.preventDefault();\n    axios.post(\"http://localhost:5000/api\", {\n      name: input.target.name.value,\n      movie: input.target.movie.value,\n      image: input.target.image.value\n    }).then(data => {\n      this.setState({\n        success: \"success\"\n      });\n    });\n  }\n\n  handleview(view) {\n    this.setState({\n      view: view\n    });\n  }\n\n  renderView() {\n    if (this.state.view === 'allMovies') {\n      return /*#__PURE__*/_jsxDEV(Movie, {\n        movies: this.state.movie,\n        selectOne: this.selectOne,\n        deleteOne: this.deleteOne\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this);\n    } else if (this.state.view === 'add') {\n      return /*#__PURE__*/_jsxDEV(Add, {\n        handleSubmit: this.handleSubmit,\n        success: this.state.success === \"success\" ? \"Data Saved\" : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }, this);\n    } else if (this.state.view === \"oneMovie\") {}\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"nav\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: this.state.view !== \"add\" ? \"nav-unselected\" : \"nav-selected\",\n          onClick: () => {\n            this.handleview('add');\n          },\n          children: \"Create Movie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: this.state.view !== 'allMovies' ? \"nav-unselected\" : \"nav-selected\",\n          onClick: () => {\n            this.handleview('allMovies');\n          },\n          children: \"Movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: this.state.view !== 'search' ? \"nav-unselected\" : \"nav-selected\",\n          children: /*#__PURE__*/_jsxDEV(Search, {\n            onSearch: () => {\n              console.log('test');\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), this.renderView()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","Movies","Add","Search","axios","OneMovie","App","Component","constructor","props","state","movie","oneMovie","view","success","renderView","bind","handleview","handleSubmit","selectOne","deleteOne","handleSearch","componentDidMount","fetch","then","response","json","data","setState","index","console","log","post","term","name","input","preventDefault","target","value","image","render"],"sources":["C:/Users/oussama/OneDrive/Bureau/RBK/IMERSIVE/Movie-World/client/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport Movies from './components/movie';\r\nimport Add from './components/Add'\r\nimport Search from './components/Search';\r\nimport axios from 'axios'\r\nimport OneMovie from './components/OneMovie';\r\n\r\nclass App extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      movie:[],\r\n      oneMovie:{},\r\n      view:'allMovies',\r\n      success:''\r\n    }\r\n    this.renderView = this.renderView.bind(this);\r\n    this.handleview = this.handleview.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.selectOne = this.selectOne.bind(this);\r\n    this.deleteOne = this.deleteOne.bind(this);\r\n    this.handleSearch = this.handleSearch.bind(this)\r\n\r\n  }\r\n   componentDidMount(){\r\n    fetch(\"http://localhost:5000/api\").then(response =>\r\n      response.json()\r\n    ).then(data =>{\r\n      this.setState({\r\n        movie:data\r\n      })\r\n      })\r\n  }\r\n\r\n  selectOne(index){\r\n    console.log(\"clicked\")\r\n    this.handleview(\"oneMovie\")\r\n    this.setState({\r\n      oneMovie:this.state.movie[index]\r\n    })\r\n  }\r\n\r\n  deleteOne(index){\r\n    axios.post((\"http://localhost:5000/api/d\"),this.state.movie[index])\r\n  }\r\n\r\n  handleSearch(term){\r\n    axios.post('http://localhost:5000/api/search',{name:term}).then(data =>{\r\n      console.log(data)\r\n      this.setState({\r\n        movie:data\r\n      })\r\n    })\r\n    \r\n  }\r\n\r\n  handleSubmit(input){\r\n    input.preventDefault()\r\n      axios.post(\"http://localhost:5000/api\",{\r\n        name: input.target.name.value,\r\n        movie: input.target.movie.value,\r\n        image: input.target.image.value\r\n      }).then(data =>{\r\n        this.setState({\r\n          success:\"success\"\r\n        })\r\n      })\r\n  }\r\n\r\n  handleview(view){\r\n    this.setState({\r\n      view: view\r\n    })\r\n  }\r\n\r\n  renderView(){\r\n    if(this.state.view === 'allMovies'){\r\n     return <Movie movies = {this.state.movie} selectOne={this.selectOne} deleteOne={this.deleteOne} />\r\n    }else if(this.state.view ==='add'){\r\n      return  <Add handleSubmit={this.handleSubmit} success={this.state.success === \"success\"? \"Data Saved\" : ''}/> \r\n    }else if(this.state.view===\"oneMovie\"){\r\n      \r\n    }\r\n  }\r\n\r\n\r\n  render(){\r\n    return (\r\n      <div>\r\n        <nav className='nav'>\r\n          <div className={\r\n            this.state.view !==\"add\" ?\r\n            \"nav-unselected\" : \"nav-selected\"\r\n          }\r\n            onClick={()=>{\r\n              this.handleview('add')\r\n            }}\r\n          >Create Movie</div>\r\n          <div className={\r\n            this.state.view !=='allMovies' ?\r\n            \"nav-unselected\" : \"nav-selected\"\r\n          }\r\n          onClick={()=>{\r\n            this.handleview('allMovies')\r\n          }}\r\n          >Movies</div>\r\n          <div className={\r\n            this.state.view !=='search' ?\r\n            \"nav-unselected\" : \"nav-selected\"\r\n          }><Search onSearch = {() => {\r\n            console.log('test')\r\n          }} /></div>\r\n        </nav>\r\n          {this.renderView()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}